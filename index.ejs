<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <title>CryptoCompass</title>
    <link href="/styles/main.css" rel="stylesheet">
</head>
<body>

    <!--hero--> 

    <div class="hero-cont">
        <div class="logo">
            <img src="images\logo-transparent.png">
        </div>
        <div class="hero-txt plus-jakarta">
            <h1>Quickly monitor your favorite crypto currencies at a glance</h1>
        </div>
    </div>

    <!--top coins-->

    <div class="top-cont">
        <div class="head plus-jakarta">
            <h2>Top Coins</h2>
        </div>
        <div class="card-cont">
          <ul>
            <% for (let i = 0; i < 10; i++) { %>
            <li>
              <div class="card">
                  <div class="coin-name">
                      <h3 class='plus-jakarta'><strong><%= coin[i].name %></strong></h3>
                  </div>
                  <div class="card-main">
                  <div class="icon">
                      <img src= <%= coin[i].iconUrl %> >
                  </div>
                  <div class="info">
                      <ul class="plus-jakarta">
                          <li><span>Market Cap:</span> <%= coin[i].marketCap %></li>
                          <li><span>Rank:</span> <%= coin[i].rank %></li>
                          <li><span>Change:</span> <%= coin[i].change %></li>
                          <li><span>24hr Volume:</span> <%= volume[i] %></li>
                          <li><span>Price:</span> $<%= price[i] %></li>
                      </ul>
                  </div>
                  <div class="carrot">
                      <% if (coin[i].change > 0) { %>
                          <img src='/images/green-carrot.png'>
                      <% } else if (coin[i].change < 0) { %>
                          <img src="/images/red-carrot.png">
                      <% } %>    
                  </div>
                </div>
              </div>
             </li>
            <% } %>
            </ul>   
      </div>
    </div>
              
    <!--search-->

    <div class="s-cont">
        <div class="head plus-jakarta">
            <h2>Search</h2>
        </div>
        <div class="res">
            <form action="/search" method="POST">
                <input class="search plus-jakarta" type="text" name="name" placeholder="Coin Name Or Symbol" required>

                <% if (locals.user) { %>
                    <div class="card">
                        <div class="coin-name">
                            <h3 class="plus-jakarta"><strong><%= user.name %></strong></h3>
                        </div>
                        <div class="card-main">
                        <div class="icon">
                            <img src= <%= user.iconUrl %> >
                        </div>
                        <div class="info">
                            <ul class="plus-jakarta">
                                <li><span>Market Cap:</span> <%= user.marketCap %></li>
                                <li><span>Rank:</span> <%= user.rank %></li>
                                <li><span>Change:</span> <%= user.change %></li>
                                <li><span>24hr Volume:</span> <%= user["24hVolume"] %></li>
                                <li><span>Price:</span> $<%= user_price %></li>
                            </ul>
                        </div>
                        <div class="carrot">
                            <% if (user.change > 0) { %>
                                <img src='/images/green-carrot.png'>
                            <% } else if (user.change < 0) { %>
                                <img src="/images/red-carrot.png">
                            <% } %>    
                        </div>
                      </div>
                    </div>
                <% } %>

                <input class="btn plus-jakarta" type="submit" value="Search">
            </form>
        </div>
    </div>

    <!--grow script-->

    <script>

        const cards = document.querySelectorAll(".card");

        for (let i = 0; i < cards.length; i++) {
            cards[i].onmouseenter = function() {
                console.log(this);
                this.classList.remove('shrink');
                this.classList.add("grow");
            }

            cards[i].onmouseleave = function() {
                setTimeout(function() {
                    this.classList.remove('grow');
                    this.classList.add('shrink')
                }.bind(this), 0)
            }
        }


    </script>


</body>
</html>